{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAiB,IAAIC,KAAK,KAAM,EAAG,GAAI,EAAG,GAAI,IAC9CC,EAAeC,SAASC,cAAc,kBAE9B,CACZC,WAAY,KACZC,KAAM,GACNC,cAAe,CACbC,SAAU,gBACVC,aAAa,EACbC,cAAc,GAGhBC,MAAMC,EAAcC,GAClB,MAAMC,EAAQD,EAAWZ,KAAKc,MAC9BC,QAAQC,IAAIH,GAERA,GAAS,EACXhB,EAAAoB,OAAOC,QAAQ,eAAgBC,KAAKb,gBAGtCT,EAAAoB,OAAOG,QAAQ,cAAeD,KAAKb,eACnCa,KAAKE,QAAQV,GAEbQ,KAAKf,WAAakB,aAAY,KAC5B,MAAMC,EAAOX,EAAWZ,KAAKc,MAC7BC,QAAQC,IAAIO,GAERA,GAAQ,MACVC,cAAcL,KAAKf,YACnBP,EAAAoB,OAAOG,QAAQ,aAAcD,KAAKb,gBAGpC,MAAMmB,EAAON,KAAKO,UAAUH,GAC5BI,OAAOC,QAAQH,GAAMI,SAAQ,EAAEC,EAAMC,MACnCZ,KAAKd,KAAKyB,GAAME,YAAcb,KAAKc,cAAcF,QAElD,OAGLL,UAAUH,IAKD,C,KAJMW,KAAKC,MAAMZ,EAAO,IAAO,GAAK,GAAK,I,MAClCW,KAAKC,MAAMZ,EAAO,IAAO,GAAK,IAAM,G,QAClCW,KAAKC,MAAMZ,EAAO,IAAO,IAAM,G,QAC/BW,KAAKC,MAAMZ,EAAO,KAAQ,KAI5CF,QAAQV,GACN,IAAIA,EAAayB,UAAUP,SAAQQ,IACjC,MAAMC,MAAEA,GAAUD,EAAKE,QACvBpB,KAAKd,KAAKgC,EAAKE,QAAQD,OAASD,MAIpCJ,cAAcF,GACLS,OAAOT,GAAOU,SAAS,EAAG,OAI/B/B,MAAMT,EAAcF","sources":["src/js/reverse-timer.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst TIMER_DEADLINE = new Date(2022, 8, 29, 3, 59, 59);\nconst timerListRef = document.querySelector('.timer__items');\n\nconst TIMER = {\n  intervalId: null,\n  refs: {},\n  notifyOptions: {\n    position: 'center-center',\n    backOverlay: true,\n    clickToClose: true,\n  },\n\n  start(rootSelector, deadLine) {\n    const delta = deadLine - Date.now();\n    console.log(delta);\n\n    if (delta <= 0) {\n      Notify.failure('Time is over', this.notifyOptions);\n      return;\n    }\n    Notify.success('Start timer', this.notifyOptions);\n    this.getRefs(rootSelector);\n\n    this.intervalId = setInterval(() => {\n      const diff = deadLine - Date.now();\n      console.log(diff);\n\n      if (diff <= 1000) {\n        clearInterval(this.intervalId);\n        Notify.success('Stop timer', this.notifyOptions);\n      }\n\n      const data = this.convertMs(diff);\n      Object.entries(data).forEach(([name, value]) => {\n        this.refs[name].textContent = this.addLeadinZero(value);\n      });\n    }, 1000);\n  },\n\n  convertMs(diff) {\n    const days = Math.floor(diff / 1000 / 60 / 60 / 24);\n    const hours = Math.floor(diff / 1000 / 60 / 60) % 24;\n    const minutes = Math.floor(diff / 1000 / 60) % 60;\n    const seconds = Math.floor(diff / 1000) % 60;\n    return { days, hours, minutes, seconds };\n  },\n\n  getRefs(rootSelector) {\n    [...rootSelector.children].forEach(item => {\n      const { title } = item.dataset;\n      this.refs[item.dataset.title] = item;\n    });\n  },\n\n  addLeadinZero(value) {\n    return String(value).padStart(2, '0');\n  },\n};\n\nTIMER.start(timerListRef, TIMER_DEADLINE);\n"],"names":["$iQIUW","parcelRequire","$df87b19a760405c7$var$TIMER_DEADLINE","Date","$df87b19a760405c7$var$timerListRef","document","querySelector","intervalId","refs","notifyOptions","position","backOverlay","clickToClose","start","rootSelector","deadLine","delta","now","console","log","Notify","failure","this","success","getRefs","setInterval","diff","clearInterval","data","convertMs","Object","entries","forEach","name","value","textContent","addLeadinZero","Math","floor","children","item","title","dataset","String","padStart"],"version":3,"file":"reverse-timer.d00e4627.js.map"}